# 更新日志

**OOPS - One-click Operating Pre-check System (一键运行预检系统)**

## v0.2.3 - 2025-11-30 ✨

### 🔧 代码优化

1. **代码清理**
   - ✅ 移除了不必要的空行和注释
   - ✅ 优化了代码格式和可读性

2. **正则表达式优化**
   - ✅ 改进了GitHub代理URL提取的正则表达式
   - ✅ 增强了URL格式验证逻辑

3. **依赖管理调整**
   - ✅ 简化了`requirements.txt`文件，只保留必要的运行时依赖
   - ✅ 移除了开发环境依赖和可选依赖
   - ✅ 优化了依赖版本约束

4. **检测器职责分离**
   - ✅ 重构了`python_environment.py`，增强了虚拟环境依赖与requirements的比对功能
   - ✅ 重构了`environment.py`，移除重复的Python环境检测功能，专注于系统级依赖
   - ✅ 支持多种版本约束格式（==, >=, <=, >, <, ~=）
   - ✅ 增强了对pyproject.toml和uv.lock的支持
   - ✅ 支持递归包含requirements.txt文件

### 📚 文档更新

1. **配置指南增强**
   - ✅ 添加了友情链接配置的详细说明
   - ✅ 介绍了默认链接和项目特定链接的配置方法

2. **用户指南更新**
   - ✅ 在HTML报告部分添加了友情链接模块信息
   - ✅ 说明了AI助手提示和项目特定链接的功能

### 🎯 功能完善

1. **友情链接模块**
   - ✅ 支持默认AI助手链接
   - ✅ 支持项目特定友情链接配置
   - ✅ 动态项目专属链接分组
   - ✅ 醒目的AI助手提示

2. **页尾About环节**
   - ✅ 完整的项目介绍和功能描述
   - ✅ 项目地址和问题反馈链接
   - ✅ 卡片式设计，与报告风格统一

3. **依赖检测增强**
   - ✅ 支持多种依赖文件格式（requirements.txt, pyproject.toml, uv.lock）
   - ✅ 支持复杂版本约束的精确比对
   - ✅ 提供详细的依赖缺失和版本不匹配信息
   - ✅ 支持检测额外安装的包

4. **系统级依赖检测**
   - ✅ 专注于系统级依赖检测（MSVC、CUDA、DirectX等）
   - ✅ 支持Windows、Linux、macOS平台
   - ✅ 提供详细的系统库检测结果和修复建议

## v0.2.2 - 2025-11-30 ✨

### ✨ 新功能

1. **友情链接模块**
   - 🔗 在报告底部添加友情链接模块
   - 💡 添加"OOPS 力荐"AI助手提示
   - 🎯 动态项目专属链接分组：`{project_name} 专属`
   - 🌐 支持项目自定义友情链接配置
   - 📋 包含默认推荐链接：DeepSeek Chat、Kimi AI、通义千问
   - 🎨 美观的卡片式网格布局

2. **页尾About环节恢复**
   - ℹ️ 重新添加"关于 OOPS"部分
   - 📌 包含完整的项目介绍、功能描述
   - 🔗 添加项目地址和问题反馈链接
   - 🎨 卡片式设计，与报告风格统一

### 🎨 用户体验优化

1. **AI助手提示**
   - 💡 在友情链接模块顶部添加醒目的AI助手提示
   - 🎯 提示内容："您可以直接将报告发送给AI助手以快速解决问题, 万事不求人!"
   - 🌈 渐变背景设计，吸引用户注意

2. **友情链接样式优化**
   - 🎨 卡片式网格布局，支持悬停效果
   - 🔄 响应式设计，适配不同屏幕尺寸
   - 📋 分组显示："OOPS 推荐"和"项目专属"

### 🐛 问题修复

1. **测试用例修复**
   - 🔧 修复友情链接项目名参数测试
   - ✅ 确保测试用例与实际实现匹配

2. **页脚内容恢复**
   - 🔄 恢复了完整的页脚About环节
   - ✅ 确保报告包含完整的项目信息

## v0.2.1 - 2025-11-26 ✨

### ✨ 新功能

1. **一键复制简报功能**
   - 📋 在 HTML 报告底部添加"复制简报"按钮
   - 🎯 简报格式优化：`OOPS_v0.2.1, 项目名, 通过项(8/9)`
   - 📊 详细信息：`- 模块名(成功/警告/错误): 简要描述`
   - 📏 智能分段：每段不超过 2000 字符
   - 🔄 多段支持：自动生成多个复制按钮
   - 💡 适合快速分享到 QQ/微信/论坛/Issue

2. **报告中显示 OOPS 版本号**
   - 📌 在报告标题下方显示当前 OOPS 版本
   - 📋 在简报中包含版本信息

### 🎨 用户体验优化

1. **运行完成后不自动关闭窗口**
   - ⏸️ 程序运行完成后暂停，等待用户按 Enter 退出
   - 📝 显示提示信息，方便用户复制运行日志
   - ❌ 出错时也会暂停，让用户看到错误信息

2. **简报描述优化**
   - 🔍 针对不同检测器使用特定的描述提取逻辑
   - 📊 环境依赖：显示"未使用虚拟环境"或"X项警告"
   - 🌐 网络连通性：显示"X个连接失败"
   - 🐍 Python环境：显示"未检测到虚拟环境"
   - 💾 硬件信息：显示完整的建议信息

### 🐛 问题修复

1. **简报信息截断问题**
   - ❌ 之前：描述被截断为 15-20 字符，丢失关键信息
   - ✅ 现在：提取完整的关键信息（最多 30 字符）

2. **环境依赖统计不准确**
   - ❌ 之前：显示"依赖(1/0/0): 检测通过"（实际有警告）
   - ✅ 现在：显示"依赖(2/1/0): 未使用虚拟环境"（准确统计）

3. **代码缩进问题**
   - 🔧 修复 `python_environment.py` 中多行字符串的缩进

## v0.2.0 - 2025-11-25 🚀

### ✨ 重大新功能

1. **项目版本检测系统**
   - 🔍 本地 Git 版本检测（分支、commit、tag、更新时间）
   - 🌐 远程版本检测（Gitee/GitHub API）
   - 🚀 启动器版本检测（OneDragon-Launcher.exe --version）
   - ⚖️ 智能版本比对（优先使用启动器版本）
   - 💡 自动更新建议

2. **灵活的路径配置系统**
   - 📁 支持多种路径格式：
     - 绝对路径：`E:/ZZZ-1D`
     - 环境变量：`${ZZZ_INSTALL_PATH}`
     - 相对路径：`../ZenlessZoneZero-OneDragon`
     - 自动检测：`auto`
   - 🔧 PathResolver 路径解析器
   - 📚 完整的配置指南（CONFIG_GUIDE.md）

3. **检测顺序优化**
   - 🎯 从下到上原则（环境 → 网络 → 版本）
   - 📊 新的检测顺序：
     1. 硬件信息 → 2. 系统信息 → 3. 系统设置 → 4. 路径规范
     5. Python环境 → 6. 环境依赖 → 7. 网络连通性
     8. 项目版本状态 → 9. 游戏启动项设置

### 🐛 问题修复

1. **启动器版本检测逻辑修复**
   - ❌ 之前：错误地读取 `src/one_dragon/version.py` 文件
   - ✅ 现在：正确执行 `OneDragon-Launcher.exe --version`

2. **版本比对逻辑优化**
   - ❌ 之前：即使版本一致仍提示更新
   - ✅ 现在：优先使用启动器版本比对，避免误报

3. **路径配置问题**
   - ❌ 之前：硬编码路径，其他用户无法使用
   - ✅ 现在：灵活配置，适应不同用户环境

### 🎨 显示优化

1. **检测器名称优化**
   - `game_settings` → "游戏启动项设置"
   - `project_version` → "项目版本状态"

2. **版本信息展示**
   - 📦 本地版本（Git 信息）
   - 🌐 远程最新版本（来源标注）
   - 🚀 启动器版本
   - 专用的版本详情渲染器

### 📦 打包支持

1. **PyInstaller 配置**
   - ✅ 创建 `oops.spec` 配置文件
   - ✅ 支持编译为独立 exe 文件（约 10MB）
   - ✅ 包含所有必要的依赖和资源

### 📚 文档更新

1. **新增文档**
   - `CONFIG_GUIDE.md` - 完整的配置指南
   - 包含常见问题解答
   - 提供多种配置示例

### 🔧 技术改进

1. **代码质量**
   - 完整的错误处理
   - 异步 API 调用
   - 类型提示改进
   - Black 代码格式化

2. **测试**
   - ✅ 所有测试通过
   - ✅ 无诊断错误

---

## v0.1.9 - 2025-11-24 🎯

### ✨ 新功能

1. **OneDragon 项目特定检测**
   - 检测 UV 包管理器（嵌入式和系统）
   - 检测 Git 工具（MinGit 和系统 Git）
   - 检测嵌入式 Python（`.install/python/python.exe`）
   - 管理员权限检测（无 UAC 弹窗）
   - SSD 要求检测
   - 屏幕比例检测（16:9）

2. **虚拟环境依赖检测**
   - 自动检测虚拟环境中的已安装包
   - 支持多种依赖文件格式：
     - `requirements.txt` - 完整比对（缺失包、版本不匹配）
     - `pyproject.toml` - 基本检测（显示已安装包数量）
     - `uv.lock` - 基本检测
   - 支持 UV 虚拟环境（使用 `importlib.metadata`）
   - 支持传统 pip 虚拟环境

3. **游戏内设置提醒**
   - 在报告中显示需要用户手动配置的游戏内设置
   - 包含分辨率、窗口模式、多屏幕、画质等要求
   - 醒目的蓝色提示框展示

### 🎨 用户体验改进

1. **HTML 报告优化**
   - 移除弹窗，改用展开式信息区域
   - 点击"显示 YAML 报告路径"展开详细信息
   - 一键复制路径到剪贴板
   - 按钮状态反馈（✅ 已复制）
   - 更流畅的用户体验

2. **检测结果显示优化**
   - `environment_dependencies` 嵌套结构清晰展示
   - Git 工具信息包含版本号
   - 嵌入式 Python 信息独立显示
   - 游戏设置提醒醒目展示

### 🔧 技术改进

1. **包管理器检测增强**
   - 优先检测嵌入式 UV（`.install/uv/uv.exe`）
   - 支持 `uv.lock` 文件检测
   - 自动获取 UV 版本信息

2. **虚拟环境检测增强**
   - 支持无 pip 的 UV 虚拟环境
   - 使用 `importlib.metadata` 作为降级方案
   - 更准确的包列表获取

3. **硬件检测增强**
   - SSD 要求配置：`require_ssd: true`
   - 屏幕比例要求配置：`aspect_ratio: '16:9'`
   - 自动计算实际屏幕比例（使用 GCD）
   - 非 16:9 屏幕显示警告

4. **系统设置检测增强**
   - 管理员权限检测（使用 `ctypes.windll.shell32.IsUserAnAdmin()`）
   - 无 UAC 弹窗，只检查当前进程权限状态
   - 配置项：`require_admin: true`

### 📦 Zenless Zone Zero 配置

新增完整的 OneDragon 项目检测配置：

```yaml
hardware_requirements:
  min_resolution: '1920x1080'
  require_ssd: true
  aspect_ratio: '16:9'

system_settings:
  enabled: true
  require_admin: true
  game_settings_reminder:
    - 游戏分辨率设置为 1920x1080（16:9）
    - 优先使用窗口模式
    - 全屏模式时确保屏幕和游戏分辨率都是 16:9
    - 多屏幕用户需将游戏窗口放在主显示器（1号屏）
    - 确保游戏画面完整且无遮挡
    - 建议使用较高画质以降低脚本出错率
```

### 🐛 Bug 修复

- 修复 JavaScript 字符串转义问题（反斜杠）
- 修复虚拟环境路径检测问题
- 修复 UV 虚拟环境包列表获取失败问题
- 修复 Black 代码格式化问题

### 📊 检测覆盖

现在支持检测：
- ✅ Python 版本和虚拟环境
- ✅ 包管理器（pip/conda/uv/poetry/pipenv）
- ✅ 虚拟环境依赖完整性
- ✅ Git 工具（系统/嵌入式）
- ✅ 管理员权限
- ✅ SSD/HDD 磁盘类型
- ✅ 屏幕分辨率和比例
- ✅ 系统设置（HDR/夜间模式/颜色滤镜）
- ✅ 网络连通性
- ✅ 路径规范

---

## v0.1.8 - 2025-11-24 🎯

### ✨ 新功能

1. **OneDragon 项目特定检测**
   - 检测 UV 包管理器（嵌入式和系统）
   - 检测 Git 工具（MinGit 和系统 Git）
   - 检测嵌入式 Python（`.install/python/python.exe`）
   - 管理员权限检测（无 UAC 弹窗）
   - SSD 要求检测
   - 屏幕比例检测（16:9）

2. **虚拟环境依赖检测**
   - 自动检测虚拟环境中的已安装包
   - 支持多种依赖文件格式：
     - `requirements.txt` - 完整比对（缺失包、版本不匹配）
     - `pyproject.toml` - 基本检测（显示已安装包数量）
     - `uv.lock` - 基本检测
   - 支持 UV 虚拟环境（使用 `importlib.metadata`）
   - 支持传统 pip 虚拟环境

3. **游戏内设置提醒**
   - 在报告中显示需要用户手动配置的游戏内设置
   - 包含分辨率、窗口模式、多屏幕、画质等要求
   - 醒目的蓝色提示框展示

### 🎨 用户体验改进

1. **HTML 报告优化**
   - 移除弹窗，改用展开式信息区域
   - 点击"显示 YAML 报告路径"展开详细信息
   - 一键复制路径到剪贴板
   - 按钮状态反馈（✅ 已复制）
   - 更流畅的用户体验

2. **检测结果显示优化**
   - `environment_dependencies` 嵌套结构清晰展示
   - Git 工具信息包含版本号
   - 嵌入式 Python 信息独立显示
   - 游戏设置提醒醒目展示

### 🔧 技术改进

1. **包管理器检测增强**
   - 优先检测嵌入式 UV（`.install/uv/uv.exe`）
   - 支持 `uv.lock` 文件检测
   - 自动获取 UV 版本信息

2. **虚拟环境检测增强**
   - 支持无 pip 的 UV 虚拟环境
   - 使用 `importlib.metadata` 作为降级方案
   - 更准确的包列表获取

3. **硬件检测增强**
   - SSD 要求配置：`require_ssd: true`
   - 屏幕比例要求配置：`aspect_ratio: '16:9'`
   - 自动计算实际屏幕比例（使用 GCD）
   - 非 16:9 屏幕显示警告

4. **系统设置检测增强**
   - 管理员权限检测（使用 `ctypes.windll.shell32.IsUserAnAdmin()`）
   - 无 UAC 弹窗，只检查当前进程权限状态
   - 配置项：`require_admin: true`

### 📦 Zenless Zone Zero 配置

新增完整的 OneDragon 项目检测配置：

```yaml
hardware_requirements:
  min_resolution: '1920x1080'
  require_ssd: true
  aspect_ratio: '16:9'

system_settings:
  enabled: true
  require_admin: true
  game_settings_reminder:
    - 游戏分辨率设置为 1920x1080（16:9）
    - 优先使用窗口模式
    - 全屏模式时确保屏幕和游戏分辨率都是 16:9
    - 多屏幕用户需将游戏窗口放在主显示器（1号屏）
    - 确保游戏画面完整且无遮挡
    - 建议使用较高画质以降低脚本出错率
```

### 🐛 Bug 修复

- 修复 JavaScript 字符串转义问题（反斜杠）
- 修复虚拟环境路径检测问题
- 修复 UV 虚拟环境包列表获取失败问题

### 📊 检测覆盖

现在支持检测：
- ✅ Python 版本和虚拟环境
- ✅ 包管理器（pip/conda/uv/poetry/pipenv）
- ✅ 虚拟环境依赖完整性
- ✅ Git 工具（系统/嵌入式）
- ✅ 管理员权限
- ✅ SSD/HDD 磁盘类型
- ✅ 屏幕分辨率和比例
- ✅ 系统设置（HDR/夜间模式/颜色滤镜）
- ✅ 网络连通性
- ✅ 路径规范

---

## v0.1.7 - 2025-11-24 🚀

### ✨ 新功能

1. **HTML 报告优化**
   - 将报告提示从警告样式改为简洁的 info 样式
   - 添加页尾 About 区域，包含项目信息和链接
   - 项目地址：https://github.com/idk500/OOPS
   - 问题反馈：GitHub Issues

2. **发布包改进**
   - ZIP 文件名包含版本号（如：oops-windows-x64_v0.1.7.zip）
   - 打包文件包含完整文档（README.md, QUICKSTART.md, CHANGELOG.md）
   - 更专业的发布包结构

### 🎨 用户体验改进

- 更简洁的报告提示样式（蓝色 info 框代替黄色警告框）
- 清晰的项目信息展示
- 便于识别的版本化文件名
- 完整的文档随包发布

### 📦 发布包内容

- oops-windows-x64.exe - 主程序
- configs/ - 配置文件
- README.md - 项目介绍
- QUICKSTART.md - 快速开始
- CHANGELOG.md - 更新日志

---

## v0.1.6 - 2025-11-24 🚀

### ✨ 新功能

1. **HTML 报告增强**
   - 在报告顶部添加醒目的提示框
   - 提醒用户不要拍照或截图，应提交 YAML 报告
   - 添加「打开报告文件夹」按钮
   - 点击按钮显示 YAML 文件名和位置提示

2. **虚拟环境检测增强**
   - 支持向上查找父目录（最多3层）
   - 解决 oops 在子目录运行时无法检测父目录虚拟环境的问题
   - 添加日志记录找到的虚拟环境位置

### 🎯 用户体验改进

- 轻量级实现，无需 Chromium 等重量级依赖
- 清晰的报告提交指引
- 避免用户使用拍照等不专业的方式提交报告
- 更准确的虚拟环境检测

### 🔧 技术改进

- 使用简单的 JavaScript 实现文件夹访问提示
- 适用于本地文件系统
- 醒目的黄色提示框设计
- 清晰的文字说明

---

## v0.1.5 - 2025-11-24 🚀

### 🎯 重大优化

本版本完成了大规模代码清理和架构优化，显著提升了代码质量和可维护性。

### 🗑️ 代码清理

1. **删除未使用代码**
   - 移除 `oops/knowledge/issue_matcher.py` (~400行未使用代码)
   - 移除 `tests/test_config.py` (过时的测试)
   - 移除 `oops/validators/` 目录 (功能已被新检测器替代)
   - 净减少 ~7,700 行代码

2. **删除冗余文件**
   - 移除 `docs_archive/` 目录 (29个历史文档)
   - 移除 `oops.png` (已有 oops.ico)
   - 移除遗留的测试报告文件
   - 清理 33 个测试报告 YAML 文件

3. **移除冗余抽象**
   - 删除 `_check_mihoyo_api()` 方法
   - 统一使用 `_check_website()` 处理所有网站检测
   - 简化类型系统（从 6 种减少到 5 种）

### ✨ 架构优化

1. **网络检测器重构**
   - 实现默认配置系统 (`configs/defaults.yaml`)
   - 创建 `DefaultConfigLoader` 配置加载器
   - 支持项目配置覆盖和扩展默认配置
   - 支持 `disable_defaults` 禁用默认检测项

2. **配置系统增强**
   - 定义所有可用的 Git 托管平台（GitHub, Gitee, GitLab, GitCode, SourceForge）
   - 定义所有可用的 PyPI 源（官方、清华、阿里云、腾讯云、中科大、华为云）
   - 使用 `enabled` 标志控制默认启用哪些源
   - 项目可以选择性启用需要的源

3. **配置文件简化**
   - 绝区零配置减少 60% 的配置行数
   - 通用 Python 配置使用完全默认配置
   - 更清晰的配置结构和注释

### 📚 文档优化

1. **文档结构重组**
   - 明确文档定位和关系
   - 建立完整的文档导航系统
   - 修复所有失效链接

2. **文档导航**
   - 推荐阅读路径：README → QUICKSTART → USER_GUIDE → USAGE
   - 每个文档都有清晰的导航链接
   - 所有文档可以从 README.md 开始互相关联

3. **文档说明**
   - QUICKSTART.md: 一分钟快速上手
   - USER_GUIDE.md: 详细使用指南（面向普通用户）
   - USAGE.md: 命令行手册（面向高级用户）

### 🔧 技术改进

1. **自动化发布**
   - 优化 GitHub Actions release workflow
   - 自动从 CHANGELOG 提取版本更新内容到 release notes
   - 更专业的发布流程

2. **占位符替换**
   - 将所有文档中的占位符替换为实际的项目 owner (idk500)
   - 更新所有示例链接

### 📊 统计数据

```
删除文件：70+ 个
  - 代码文件：4 个
  - 文档文件：29 个
  - 测试报告：33 个
  - 资源文件：2 个

删除代码：-19,000+ 行
新增代码：+400 行
净减少：-18,600 行
```

### 🎯 优势

- ✅ 代码库更简洁（减少 70+ 个文件）
- ✅ 配置系统更灵活（项目可选择启用的源）
- ✅ 文档结构更清晰（完整的导航系统）
- ✅ 架构更合理（统一的配置管理）
- ✅ 更易维护（无冗余代码和文件）

---

## v0.1.4 - 2025-11-23 🚀

### 🎉 重大更新

本版本完成了大规模重构，显著提升了检测准确性和用户体验。

### ✨ 新功能

1. **统一报告格式**
   - 创建 `UnifiedDetectionRenderer` 统一渲染器
   - 所有检测结果使用相同的组织形式
   - 实现智能折叠：默认显示错误/警告，通过项可展开
   - 统一摘要格式：`✅ X项通过 | ⚠️ Y项警告 | ❌ Z项错误`

2. **自动模式**
   - 双击EXE或无参数启动时自动运行所有项目检测
   - 无需用户输入，自动生成报告并在浏览器中打开
   - 面向零门槛的用户体验设计

3. **硬件信息增强**
   - 添加显示器分辨率检测（跨平台支持）
   - 添加分辨率要求验证（可配置最低分辨率）
   - 绝区零项目要求最低分辨率 1920x1080

4. **网络检测优化**
   - 添加正确的层次结构显示
   - 主分类用 `【】` 标记
   - 子项使用 `└─` 符号和缩进
   - 修复计数问题（只计算分类数，不计算子项）

### 🐛 Bug修复

1. **HDR检测修复**
   - 修复使用 `BitsPerPixel > 24` 导致的误报问题
   - 改用正确的注册表键：`EnableHDR`
   - 不再误报深色模式为HDR

2. **夜间模式检测修复**
   - 修复只检查注册表键存在性的问题
   - 检查 `Data[18]` 字节值区分启用/禁用状态
   - 正确区分深色模式（UI主题）和夜间模式（色温调整）

3. **CSS样式修复**
   - 修复列表标记溢出问题
   - 修复文字溢出框外问题
   - 优化详细数据框内的列表样式
   - 改进响应式布局

### 🎨 改进

1. **系统信息优化**
   - 系统信息模块改为纯数据展示
   - 移除所有警告图标和验证逻辑
   - 默认折叠详细信息，只显示关键摘要
   - 验证逻辑移到独立的检测器

2. **检测顺序重组**
   - 实现自定义检测顺序
   - 新顺序：硬件信息 → 系统设置 → 网络 → Python环境 → 环境依赖 → 路径规范 → 游戏设置
   - 更符合逻辑的检测流程

### 🏗️ 架构改进

1. **代码重构**
   - 创建 `unified_renderer.py` 统一渲染器
   - 优化 `report_modules.py` 报告模块
   - 改进 `hardware.py` 硬件检测器
   - 重构 `system_settings.py` 系统设置检测器

2. **配置增强**
   - 添加 `hardware_requirements` 配置项
   - 支持最低分辨率要求配置
   - 更灵活的检测器配置

### 📚 文档

1. **新增文档**
   - `docs/dev/SESSION_SUMMARY_2025-11-23.md` - 会话总结
   - `docs/dev/NETWORK_DETECTOR_REFACTOR.md` - 网络检测器重构计划

2. **更新文档**
   - 更新 `REFACTOR_DETECTION_ORDER.md` 重构进度
   - 完善开发文档

### 📊 测试结果

| 检测项 | 修复前 | 修复后 |
|--------|--------|--------|
| HDR检测 | 误报 | ✅ 正确 |
| 夜间模式检测 | 误报 | ✅ 正确 |
| 分辨率检测 | 不支持 | ✅ 支持 |
| 网络检测显示 | 格式混乱 | ✅ 清晰 |
| 报告格式 | 不统一 | ✅ 统一 |

---

## v0.2.0 - 2025-11-23 🚀

### 🏗️ 架构重构

1. **检测顺序重组**
   - 重新设计检测流程：硬件→系统→设置→网络→Python环境→依赖→路径
   - 创建 4 个新检测器：`hardware.py`, `system.py`, `system_settings.py`, `python_environment.py`
   - 保持向后兼容性，旧检测器继续工作

2. **数据渲染分离**
   - 系统信息模块只展示纯数据，移除警告图标
   - 硬件适配验证逻辑独立为检测项
   - 开始实现"配置解析→执行→渲染"架构分离

### ✨ 新功能

1. **增强 Python 环境检测**
   - 支持多种包管理器识别：pip/conda/uv/poetry/pipenv
   - 智能虚拟环境检测（支持任意命名）
   - 完整依赖检查：缺失包、版本不匹配检测
   - 提供具体的修复建议

2. **统一检测规则**
   - 网络连通性检测显示完整结果（成功/失败比例）
   - 不再隐藏失败项，提供透明的检测信息
   - 所有检测器遵循统一的数据格式

### 🎨 改进

1. **系统信息优化**
   - 移除磁盘类型的警告图标（⚠️/✅）
   - 只显示纯数据，不进行验证判断
   - 更清晰的信息展示

2. **检测结果展示**
   - 按新的逻辑顺序组织报告
   - 更好的问题分类和优先级
   - 改进的用户体验

### 🔧 技术改进

1. **代码质量**
   - 新检测器采用统一的数据模型
   - 更好的错误处理和日志记录
   - 改进的测试覆盖

2. **性能优化**
   - 优化检测器执行顺序
   - 减少重复的系统调用
   - 更快的报告生成

### 📚 文档

1. **开发文档**
   - 新增 `REFACTOR_DETECTION_ORDER.md` 重构进度文档
   - 详细的架构变更记录
   - 完整的实施计划和进度跟踪

---

## 2025-11-22 (更新7)

### ✨ 新功能

1. **硬件适配检测章节**
   - 在检测结果中新增独立的"硬件适配"检测项
   - 自动从系统信息中提取硬件相关的验证结果
   - 包含内存、磁盘类型、用户名、显示设置等硬件适配问题
   - 提供针对性的修复建议

### 🎨 改进

1. **检测结果中文化**
   - 所有检测项名称改为中文显示
   - `system_info` → 系统信息
   - `network_connectivity` → 网络连通性
   - `environment_dependencies` → 环境依赖
   - `path_validation` → 路径规范
   - `hardware_compatibility` → 硬件适配

2. **报告布局优化**
   - "硬件验证"改名为"硬件适配"
   - 硬件适配问题在检测结果中独立显示
   - 更清晰的问题分类和展示

## 2025-11-22 (更新6)

### ✨ 新功能

1. **显示器分辨率检测与验证**
   - 在系统信息检测中添加主显示器分辨率检测
   - 跨平台支持（Windows/Linux/macOS）
   - 自动验证分辨率是否满足游戏脚本最低要求（1920x1080）
   - 分辨率过低时显示错误级别警告并提供修复建议
   - 在HTML报告的"显示设置"部分显示分辨率信息

### 🎨 改进

1. **报告布局优化**
   - 分辨率信息归类到"显示设置"部分
   - 与HDR、夜间模式、颜色滤镜等显示相关设置放在一起
   - 分辨率显示简洁，不带状态图标

2. **分辨率验证逻辑**
   - 低于 1920x1080：显示错误，提示"游戏脚本要求最低分辨率 1920x1080，请调整显示器分辨率"
   - 等于 1920x1080：通过验证，符合最低要求
   - 高于 1920x1080：通过验证，符合要求
   - 无法解析：显示警告，建议检查显示器设置

3. **检测方法**
   - Windows: 使用 PowerShell + System.Windows.Forms API
   - Linux: 使用 xrandr 命令
   - macOS: 使用 system_profiler 命令

## 2025-11-22 (更新5)

### ✨ 新功能

1. **图标支持**
   - 添加 OOPS 图标（oops.png / oops.ico）
   - 编译后的 exe 文件带有自定义图标
   - 支持多种尺寸（16x16 到 256x256）

### 🎨 改进

1. **修复建议优化**
   - 检测正常时不再显示"无需修复"建议
   - 只在有问题时显示修复建议
   - 报告更简洁，减少冗余信息

2. **构建配置更新**
   - 更新 build.spec 配置，添加图标支持
   - 更新构建脚本，使用正确的 spec 文件路径
   - 支持 Windows/Linux/macOS 多平台构建

## 2025-11-22 (更新4)

### ✨ 新功能

1. **显示设置检测增强**
   - 新增 HDR（高动态范围）检测功能
   - 检测 Windows 夜间模式/护眼模式状态
   - 检测 Windows 颜色滤镜状态
   - 检测 NVIDIA 游戏滤镜（进程检测）
   - 显示设置单独分类显示，更清晰
   - 自动验证显示设置是否影响游戏脚本识别

2. **报告显示优化**
   - 所有检测项默认隐藏成功详情，只展开失败和警告项
   - 成功项可通过"▶ 显示通过项 (N)"按钮查看
   - path_validation 等检测项的通过项默认折叠
   - 改善报告可读性，聚焦问题

### 🎨 改进

- 系统信息中的显示设置单独分类
- 显示设置状态用图标标识：✅ 正常 / ⚠️ 警告
- 报告更简洁，默认只显示需要关注的问题

## 2025-11-22 (更新3)

### ✨ 新功能

1. **显示设置检测**
   - 新增 HDR（高动态范围）检测功能
   - 检测 Windows 夜间模式状态
   - 自动验证显示设置是否影响游戏脚本识别
   - HDR 或夜间模式启用时给出警告和关闭建议

## 2025-11-22 (更新2)

### ✨ 新功能

1. **报告交互优化**
   - 系统信息默认折叠，显示紧凑摘要（CPU、内存、磁盘类型）
   - 网络检测结果优化：
     - **按类型分类显示**：Git仓库、PyPI源、镜像站点、GitHub代理等
     - 每个分类显示可用数量统计：`(3/5 可用)`
     - 优先显示可用源，不可用源折叠隐藏
     - 显示响应时间，便于选择最快的源
   - 添加折叠/展开按钮，改善大量信息的可读性

### 📚 文档

- 新增 `ARCHITECTURE.md` 架构文档
  - 详细说明执行器-报告器解耦设计
  - 标准化数据格式说明
  - 开发者指南

## 2025-11-22 (更新1)

### ✨ 新功能

1. **系统信息检测**
   - 新增系统信息检测器，自动收集 CPU、GPU、内存、存储等硬件信息
   - 检测当前运行路径和存储类型（SSD/HDD）
   - 自动验证硬件配置是否满足项目要求
   - HDD 磁盘会显示警告并提供 SSD 建议
   - **隐私保护**：移除用户名和计算机名显示，路径中的用户名替换为 `[USER]`
   - **用户名验证**：检测用户名是否为全英文无特殊字符，有问题时给出警告和建议

2. **报告模块化**
   - 将报告生成拆分为独立的模块（SystemInfoModule、SummaryModule、CheckResultsModule）
   - 支持更灵活的报告内容定制
   - 改进了报告的可维护性和扩展性

3. **Build 文件整理**
   - 创建 `build/` 目录统一管理构建相关文件
   - 分类存放：scripts（脚本）、config（配置）、docs（文档）、workflows（CI/CD）
   - 添加 build/README.md 说明文档

### 🎨 改进

- 系统信息在报告中以独立模块显示，包含基本信息、硬件信息、存储信息和硬件验证
- HDD 磁盘类型会以警告色显示，并提供 SSD 建议
- 报告 CSS 样式优化，新增系统信息网格布局
- 用户名验证：只在用户名不符合规范时显示警告（不显示用户名本身）
- 路径隐私保护：Python路径和当前路径中的用户名自动替换为 `[USER]`

### 📁 文件结构变化

```
build/
├── README.md
├── scripts/
│   ├── build.bat
│   ├── build.sh
│   ├── test_build.bat
│   └── deploy_to_project.bat
├── config/
│   └── build.spec
├── docs/
│   ├── BUILD.md
│   ├── BUILD_SUMMARY.md
│   ├── BUILD_QUICK_REFERENCE.md
│   └── RELEASE_CHECKLIST.md
└── workflows/
    └── build.yml

oops/
├── core/
│   └── report_modules.py  # 新增：报告模块化组件
└── detectors/
    └── system_info.py      # 新增：系统信息检测器
```

### 🔧 配置更新

- `configs/zenless_zone_zero.yaml` 新增 `system_info` 检测项配置
- 默认启用系统信息检测

### 📝 依赖更新

- 新增依赖：`psutil>=5.9.0` （用于系统信息收集）

### 🔒 隐私保护

- 移除报告中的用户名和计算机名显示
- Python路径和当前路径中的用户名自动替换为 `[USER]`
- 用户名验证功能：检测用户名规范性，但不显示用户名本身
- 只在用户名存在问题时显示警告和建议
